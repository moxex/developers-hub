{% extends 'layout.html' %}

{% block content %}
	
	<!-- To make contents vertically centered -->
	<div style="height: 100vh;" class="container">
		<div class="row h-100">
		    <div class="col-sm-12 my-auto">
		    	<div class="mx-auto w-75 card p-4 shadow-lg w-sm">

		    		<!-- Header Logo-->
		    		<div class="text-center animate__animated animate__fadeIn">
		    			<h1 class="font-weight-500 logo">Developers <span class="text-danger">Hub</span></h1>

		    			<hr class="mt-4">
		    		</div>

		    		<!-- Form -->
					<form method="POST">

						<!-- Firstname(fname) and lastname(lname) Input -->
						<div class="form-group">
							<label>Fullname: </label>
							<div class="input-group">
								<input minlength="3" type="text" name="fname" class="form-control" placeholder="Firstname" required="">
								<input minlength="3" class="form-control ml-2" type="text" name="lname" placeholder="Lastname">
							</div>
						</div>

						<!-- Username Input -->
						<div class="form-group">
							<label>Username: </label>
							<input minlength="5" type="text" name="username" class="form-control" placeholder="Username" required="">
						</div>

						<!-- Email Input -->
						<div class="form-group">
							<label>Email: </label>
							<input type="email" name="email" class="form-control" placeholder="Email" required="">
						</div>

						<!-- Password and Confirm Password(confirm-password) Input -->
						<div class="form-group">
							<label>Password: </label>
							<div class="input-group">
								<input minlength="6" type="password" name="password" class="form-control" placeholder="Password" required="">
								<input minlength="6" type="password" name="confirm-password" class="form-control ml-2" placeholder="Confirm Password" required="">
							</div>	
						</div>

						<div class="text-center">
							{{ recaptcha }}
						</div>

						<!-- Register Button -->
						<button class="form-control btn btn-danger mt-4">Register</button>

						<hr>

						<p class="text-center m-0 p-0"><small><a class="text-danger" href="{{ url_for('login') }}">Already have an account?</a></small></p>
					</form>

					<!-- Flash Messages -->
					{% with messages = get_flashed_messages(with_categories=true) %}
						{% if messages%}
							{% for category, message in messages %}
								<div class="mt-3 alert alert-danger rounded text-center text-danger p-3 font-weight-bold"><span class="{{ category }}"></span>{{ message }}</div>
							{% endfor %}
						{% endif %}
					{% endwith %}
		    	</div>
				
			</div>
		</div>
	</div>

	<script src='https://www.google.com/recaptcha/api.js'></script>
{% endblock content %}

{% block script %}

<script type="text/javascript">
	var width = $('.g-recaptcha').parent().width();
	if (width < 302) {
		var scale = width / 302;
		$('.g-recaptcha').css('transform', 'scale(' + scale + ')');
		$('.g-recaptcha').css('-webkit-transform', 'scale(' + scale + ')');
		$('.g-recaptcha').css('transform-origin', '0 0');
		$('.g-recaptcha').css('-webkit-transform-origin', '0 0');
	}
</script>

{% endblock script %}